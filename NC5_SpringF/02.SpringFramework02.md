# 1. SpringFramwwork
## 1. AOP
### 1. DB 연동 방식(JDBC/DBCP/JNDI)
1. JDBC(Java DataBase Connectivity) : 자바에서 제공해주는 DB 연결 표준 API. DB 연결 요청이 올 때마다 Web Appliication이 커넥션을 계속해서 생성하는 방식. 많은 사용자가 동시에 DB 접속을 요청하면 커넥션의 개수가 증가하여 DB서버 과부하나 메모리 부족을 야기할 수 있다. 비효율적이어서 현재는 많이 사용되고 있지 않다.
2. DBCP(DataBase Connection Pool) : Web Application에서 지정한 개수만큼의 DB Connection을 미리 만들어놓고 DB 접속 요청이 올 때마다 만들어 놓은 DB Connection을 대여한는 방식. 초기 Connection 개수, 최대 Connection 개수, 평소에 유지되는 Connection 개수 등을 설정할 수 있다. 메모리 낭비가 되지 않도록 적절한 개수를 설정하는 것이 중요하다.
3. JNDI(Java Naming and Directory Interface) : 방식은 DBCP와 같지만 DB Connection의 관리주체가 Web Appliication이 아닌 WAS(Web Application Server)로 변경. 설정이 간편하고 Web Application에 과부하를 방지할 수 있어서 가장 많이 사용되는 방식.
### 2. AOP
1. 공통 관심인 로그 출력이나 트랜잭션, 예외처리 등을 모든 비즈니스 메소드에 포함시키는 일은 매우 비효율적인 작업이다. 중간에 모듈이 변경되면 모든 메소드들을 수정해야 된다는 단점도 존재한다.
2. 스프링에서는 설정파일로 공통 관심을 묶어서 관리할 수 있다.
### 3. AOP 관련 용어 정리
1. 포인트컷 (pointcut) : 공통 관심 코드가 실행 될 메소드. aop:pointcut의 expression 속성으로 필터링된 메소드. 만약 트랜잭션 AOP로 구성한다고 생각했을 때 insert, delete, update하는 메소드에서만 트랜잭션이 발생할 수 있게 expression을 구성하면 된다.
    - 포인트컷의 expression: 포인트컷을 지정하는 조건.
        - execution()으로 포인트 컷을 지정한다.
        - 첫 번째 (* or void or !void) : 메소드의 리턴 타입을 지정
        - 두 번째 (com.bit.springboard.service..: 메소드가 존재하는 패키지를 지정. ..은 하위의 모든 패키지 포함) 
    ```
    com.bit.springboard.service.. : service에 존재하는 모든 하위 패키지 지정.
    com.bit.springboard.service..impl : service에 하위 패키지중 impl로 끝나는 모든 패키지 지정.
    com.bit.springboard.service : service 패키지만 지정.
    *Impl : Impl로 끝나는 모든 클래스 지정.
    BoardServiceImpl : BoardServiceImpl클래스만 지정.
    BoardService+ : BoardService를 상속받아 구현한 모든 클래스 지정.

    ```
    - 세 번째 파라미터 : 메소드르 지정.
    ```
    * : 모든 메소드 지정.
    get* : get으로 시작하는 모든 메소드 지정.
    *Board : Board로 끝나는 모든 메소드 지정.
    (..) : 매개변수의 타입과 개수에 제약을 두지 않음.
    어떠한 매개변수를 갖던 상관하지 않고 지정.
    (*) : 매개변수의 타입은 제약을 두지 않지만 개수는 무조건 한개여야한다.
    (com.bit.springboard.dto,BoardDTO) : 매개변수는 하나면서 그 매개변수가 BoardDTO인 메소드 지정.
    (!com.bit.springboard.dto,BoardDTO) : 매개변수는 하나면서 그 매개변수가 BoardDTO아닌 메소드 지정.
    (Integer, ..) : 매개변수의 타입과 개수에 제약을 두진 않지만 첫 번째 매개변수는 무조건 int형인 메소드 지정.

    ```
2. 어드바이스(advice) : 공통 관심에 해당되는 공통 기능 코드(consoleLog,consoleLogPlus). 어드바이스를 지정할 때는 공통 기능 코드가 실행될 시점과 함께 지정.
3. 위빙(weaving) : 공통 기능 코드가 포인트 컷에 주입되는 행위. 위빙 기능이 있기 때문에 비즈니스 로직에서 공통 기능 코드를 추가하지 않고도 공통 기능 코드가 실행되는 것.
4. 애즈팩트(aspect), 어드바이저(advisor)
    - 애즈팩트 : 어드바이스 + 포인트 컷. 포인트 컷에 위빙이 일어나서 공통 기능 코드가 포인트 컷에 주입된 상태를 애즈팩트라고 한다.
    - 어드바이저 : 애즈팩트와 동일. 공통 기능 코드의 메소드 명을 모를 때나 공통 기능이 들어있는 클래스 명을 모를 때 애즈팩트 대신 어드바이저를 사용한다.
    - 트랜잭션을 설정할 때 commit, rollback 시점을 개발자가 알수 없기 때문에 이 때도 애즈팩트 대신 어드바이저를 사용해서 자동적으로 commit, rollback이 일어나도록 설정한다.
### 4. AOP의 동작 시점
1. before : 포인트컷 메소드가 실행되기 전에 공통 기능 코드를 실행.
2. after-returning : 포인트컷 메소드가 정상적으로 종료되고 공통 기능 코드를 실행.
3. after-throwing : 포인트컷 메소드가 에러를 발생시켰을 때 공통 기능 코드를 실행.
4. after : 포인트컷 메소드가 정상 종료되거나 에러를 발생시키거나와 상관없이 메소드가 종료되면 무조건 공통 기능 코드 실행.
5. around : 포인트컷 메소드 실행 전 후로 한 번씩 공통 기능 코드 실행.


